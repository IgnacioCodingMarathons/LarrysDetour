# WARNING: This is a Kivy layout file for Larry's Detour. This is a critical file in the game, and if it went missing, the game would crash
# as soon as this layout is displayed. Please don't mess around with this file unless you know what you're doing.
# WARNING: This Kivy layout file contains Python code. Please absolutely DON'T mess with it. I'm BEGGING you. PLEASE!!!!!!!!!
<News@FloatLayout>:
    size_hint: None, None
    size: 453, 453
    x: -226.5 + self.offset
    y: self.parent.center_y - 226.5
    canvas.before:
        Color:
            rgba: (206/255.0, 121/255.0, 53/255.0, 1) if self.hovered else (181/255.0, 101/255.0, 29/255.0, 1)
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [135.9]
        Color:
            rgba: (139/255.0, 69/255.0, 19/255.0, 1)
        Line:
            rounded_rectangle: (self.x, self.y, self.width, self.height, 135.9)
            width: 3
    offset: 113.25
    hovered: False
    on_touch_move:
        if self.collide_point(*args[1].pos): self.hovered = True
        else: self.hovered = False
    on_hovered:
        Animation.cancel_all(self)
        Animation(offset=0 if self.hovered else 113.25, d=0.4, t='out_cubic').start(self)
<Root>:
    canvas.before:
        Rectangle:
            source: "resources/graphics/title/background.jpg" # GOSH DAMMIT IT'S A FUCKING JPEG!!!!!!!!!
            pos: self.pos
            size: self.size
    Image: # title
        source: "resources/graphics/title/detour.png"
        size_hint: None, None
        size: self.texture_size
        pos_hint: {"center_x": 0.5}
        y: self.parent.center_y + 200
    Label:
        text: "An extremely big open-source platformer game based on Talking Tom and Friends"
        color: 0, 0, 0, 1
        pos_hint: {"center_x": 0.5}
        y: self.parent.center_y + 70
    BoxLayout:
        orientation: "vertical"
        spacing: 10
        padding: 20
        pos_hint: {"center_x": 0.5}
        y: self.parent.center_y - 100
        Button: # play
            text: "Play"
            size_hint: None, None
            size: 100, 100
            color: 0, 0, 0, 1
            on_press: app.title.play()
        Button: # settings
            text: "Settings"
            size_hint: None, None
            size: 100, 100
            color: 0, 0, 0, 1
            on_press: app.title.settings()
        Button: # Help
            text: "Help"
            size_hint: None, None
            size: 100, 100
            color: 0, 0, 0, 1
            on_press: app.title.help()
    News:
        id: news
        BoxLayout:
            orientation: "vertical"
            spacing: 10
            padding: 20
            Label:
                text: "Breaking news:"
                font_size: 24
                color: 0, 0, 0, 1
                size_hint: None, None
                size: self.texture_size
            # The game will fill up this space after telling the internet to grab the KV file for the recent bit of news.
    Label:
        text: "Â© 2025 Ignacio Studios"
        pos_hint: {"x": 0.0, "y": 0.0}
        size_hint: None, None
        height: 35
        color: 0, 0, 0, 1